<!doctype html>
<html lang="hi">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Auto Quiz ‚Äî 220 Questions</title>

<style>
:root{--bg:#fff7fb;--card:#fff;--primary:#ff6b6b}
*{box-sizing:border-box}
body{
  font-family:system-ui,Arial;
  background:var(--bg);
  margin:0;padding:20px;
  display:flex;justify-content:center;align-items:center;
  min-height:100vh;
}
.app{max-width:720px;width:100%}
.card{
  background:#fff;
  padding:20px;
  border-radius:14px;
  box-shadow:0 10px 30px rgba(0,0,0,.1)
}
#circleTimer{
  width:90px;height:90px;
  border:4px solid var(--primary);
  border-radius:50%;
  display:flex;align-items:center;justify-content:center;
  margin:0 auto 12px;
  font-size:22px;font-weight:700;color:var(--primary)
}
.title{text-align:center;font-weight:700;font-size:20px}
.question{text-align:center;font-size:26px;font-weight:700;margin:15px 0}
.opt{
  width:100%;padding:14px;margin-bottom:10px;
  border-radius:10px;border:1px solid #eee;
  background:#fafafa;font-weight:600;
}
.opt.correct{background:#e6ffef}
.opt.wrong{background:#ffecec}
.opt.disabled{pointer-events:none}
.footer{text-align:center;font-size:13px;color:#555}
</style>
</head>

<body>
<div class="app card">

<div id="circleTimer">90</div>
<div class="title">‡§Ö‡§ó‡§∞ ‡§ú‡•ã‡§∏ ‡§Æ‡•á‡§Ç ‡§™‡§¢‡§º‡§æ‡§à ‡§ï‡§∞‡§§‡•á ‡§π‡•ã, ‡§§‡•ã ‡§â‡§§‡•ç‡§§‡§∞ ‡§¶‡•ã üî•</div>
<div class="question" id="question">‡§≤‡•ã‡§° ‡§π‡•ã ‡§∞‡§π‡§æ ‡§π‡•à‚Ä¶</div>
<div id="options"></div>
<div class="footer">Mishra Electronic Tikra</div>

</div>

<script>
// ===== CONFIG =====
const QUESTION_TIME_SECONDS = 90;
const TOTAL_QUESTIONS = 220;
const AUTO_NEXT_MS = 3000;

// ===== AUDIO =====
const AudioCtx = window.AudioContext || window.webkitAudioContext;
const audioCtx = new AudioCtx();

// ‡§π‡§∞ second ‡§ï‡•Ä ‡§π‡§≤‡•ç‡§ï‡•Ä tick ‡§Ü‡§µ‡§æ‡§ú
function secondTick(){
  const osc = audioCtx.createOscillator();
  const gain = audioCtx.createGain();
  osc.type = "sine";
  osc.frequency.value = 900;
  gain.gain.value = 0.08;
  osc.connect(gain);
  gain.connect(audioCtx.destination);
  osc.start();
  osc.stop(audioCtx.currentTime + 0.08);
}

// ‡§ú‡§µ‡§æ‡§¨ / ‡§ü‡§æ‡§á‡§Æ-‡§Ö‡§™ ‡§™‡§∞ ‡§§‡•á‡§ú ‡§Ü‡§µ‡§æ‡§ú
function loudBeep(){
  const osc = audioCtx.createOscillator();
  const gain = audioCtx.createGain();
  osc.type = "square";
  osc.frequency.value = 1200;
  gain.gain.value = 0.4;
  osc.connect(gain);
  gain.connect(audioCtx.destination);
  osc.start();
  osc.stop(audioCtx.currentTime + 0.35);
}

// ===== QUESTIONS =====
function generateQuestions(n){
  const list=[], used=new Set(), ops=['+','-','√ó','√∑'];
  while(list.length<n){
    let a=~~(Math.random()*30)+1;
    let b=~~(Math.random()*30)+1;
    let op=ops[~~(Math.random()*4)];
    let ans;
    if(op==='+') ans=a+b;
    if(op==='-') ans=a-b;
    if(op==='√ó') ans=a*b;
    if(op==='√∑'){ if(a%b!==0) continue; ans=a/b;}
    let q=`${a} ${op} ${b} = ?`;
    if(used.has(q)) continue;
    used.add(q);
    let opts=new Set([ans]);
    while(opts.size<4) opts.add(ans+~~(Math.random()*10)-5);
    let arr=[...opts].sort(()=>Math.random()-0.5);
    list.push({q,options:arr,answerIndex:arr.indexOf(ans)});
  }
  return list;
}

const questions = generateQuestions(TOTAL_QUESTIONS);

// ===== QUIZ LOGIC =====
let idx=0, remaining=QUESTION_TIME_SECONDS, timer=null, revealed=false;
const qEl=document.getElementById("question");
const optEl=document.getElementById("options");
const timerEl=document.getElementById("circleTimer");

function renderTimer(){timerEl.textContent=remaining;}

function renderQuestion(){
  const it=questions[idx];
  qEl.textContent=it.q;
  optEl.innerHTML="";
  it.options.forEach((t,i)=>{
    let b=document.createElement("button");
    b.className="opt";
    b.textContent=String.fromCharCode(65+i)+". "+t;
    b.onclick=()=>selectOption(i);
    optEl.appendChild(b);
  });
  revealed=false;
}

function revealAnswer(){
  if(revealed) return;
  revealed=true;
  const it=questions[idx];
  [...optEl.children].forEach((el,i)=>{
    el.classList.add("disabled",i===it.answerIndex?"correct":"wrong");
  });
}

function selectOption(){
  loudBeep();      // üîä ‡§§‡•á‡§ú ‡§Ü‡§µ‡§æ‡§ú
  revealAnswer();
  clearInterval(timer);
  setTimeout(nextQuestion,AUTO_NEXT_MS);
}

function nextQuestion(){
  idx=(idx+1)%questions.length;
  remaining=QUESTION_TIME_SECONDS;
  renderQuestion();
  renderTimer();
  startTimer();
}

function startTimer(){
  clearInterval(timer);
  timer=setInterval(()=>{
    remaining--;
    secondTick();  // ‚è±Ô∏è ‡§π‡§∞ second ‡§Ü‡§µ‡§æ‡§ú
    renderTimer();
    if(remaining<=0){
      loudBeep();  // üîä time up
      revealAnswer();
      clearInterval(timer);
      setTimeout(nextQuestion,AUTO_NEXT_MS);
    }
  },1000);
}

// INIT
renderQuestion();
renderTimer();
startTimer();
</script>

</body>
</html>
